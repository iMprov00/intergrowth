<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Калькулятор Intergrowth-21</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .form-section {
      margin-bottom: 1.5rem;
    }
    .unit {
      font-size: 0.9rem;
      color: #6c757d;
    }
  </style>
</head>
<body>
  <div class="container py-4">
    <div class="card shadow">
      <div class="card-header bg-primary text-white">
        <h1 class="h4 mb-0">Калькулятор роста плода Intergrowth-21</h1>
      </div>
      
      <div class="card-body">
        <% if @errors %>
          <div class="alert alert-danger">
            <ul class="mb-0">
              <% @errors.each do |error| %>
                <li><%= error %></li>
              <% end %>
            </ul>
          </div>
        <% end %>
        
        <form action="/calculate" method="post">
          <div class="row form-section">
            <div class="col-md-6">
              <label class="form-label">Гестационный возраст</label>
              <div class="input-group">
                <input type="number" class="form-control" name="gestational_age" required min="140" max="280" value="<%= params[:gestational_age] || 140 %>">
                <span class="input-group-text">дней</span>
              </div>
              <div class="form-text">От 140 (20 недель) до 280 дней (40 недель)</div>
            </div>
            
            <div class="col-md-6">
              <label class="form-label">Пол плода</label>
              <div class="d-flex gap-3">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" value="M" id="genderMale" <%= 'checked' if (params[:gender] || 'M') == 'M' %>>
                  <label class="form-check-label" for="genderMale">Мужской</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" value="F" id="genderFemale" <%= 'checked' if params[:gender] == 'F' %>>
                  <label class="form-check-label" for="genderFemale">Женский</label>
                </div>
              </div>
            </div>
          </div>
          
<div class="row form-section">
  <div class="col-md-4">
    <label class="form-label">Рост плода</label>
    <div class="input-group">
      <input type="number" step="0.1" class="form-control" name="height" required value="<%= params[:height] %>">
      <span class="input-group-text">см</span>
    </div>
  </div>
  
  <div class="col-md-4">
    <label class="form-label">Вес плода</label>
    <div class="input-group">
      <input type="number" step="0.01" class="form-control" name="weight" required value="<%= params[:weight] %>">
      <span class="input-group-text">кг</span>
    </div>
  </div>
  
  <div class="col-md-4">
    <label class="form-label">Окружность головы</label>
    <div class="input-group">
      <input type="number" step="0.1" class="form-control" name="head_circumference" required value="<%= params[:head_circumference] %>">
      <span class="input-group-text">см</span>
    </div>
  </div>
</div>
          
          <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3">
            <button type="submit" class="btn btn-primary px-4">
              Рассчитать
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</body>
</html>